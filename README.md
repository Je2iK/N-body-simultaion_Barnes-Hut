# N-Body ะกะธะผัะปััะธั - ะะพะดัะปัะฝะฐั ะฒะตััะธั

## ๐ฏ ะงัะพ ััะพ?

ะะพะดัะปัะฝะฐั ัะตะฐะปะธะทะฐัะธั N-body ัะธะผัะปััะธะธ ะณะฐะปะฐะบัะธะบะธ ั ะดะฒัะผั ะฐะปะณะพัะธัะผะฐะผะธ ะธ ะฒัััะพะตะฝะฝะพะน ัะธััะตะผะพะน ััะฐะฒะฝะตะฝะธั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ.

### ะะปะณะพัะธัะผั:
- **Barnes-Hut** - O(N log N), ะธัะฟะพะปัะทัะตั quadtree ะดะปั ะฑัััััั ะฒััะธัะปะตะฝะธะน
- **Brute Force** - O(Nยฒ), ัะพัะฝัะน ะผะตัะพะด ะฟััะผะพะณะพ ััะผะผะธัะพะฒะฐะฝะธั

## ๐ ะัััััะน ััะฐัั

```bash
# ะกะฑะพัะบะฐ ะฟัะพะตะบัะฐ
make

# ะะฐะฟััะบ ะฟัะพะณัะฐะผะผั
./bin/nbody_simulation

# ะะปะธ ะฑััััะพะต ััะฐะฒะฝะตะฝะธะต ะฐะปะณะพัะธัะผะพะฒ
./run_benchmark.sh
```

## ๐ ะะตะฝั ะฟัะพะณัะฐะผะผั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ       N-Body Simulation - Modular Version          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

Select mode:
  1. Run Barnes-Hut simulation (with visualization)
  2. Run Brute Force simulation (with visualization)
  3. Benchmark Barnes-Hut only
  4. Benchmark Brute Force only
  5. Compare both algorithms (benchmark)
  0. Exit
```

## ๐ฎ ะฃะฟัะฐะฒะปะตะฝะธะต

| ะะปะฐะฒะธัะฐ | ะะตะนััะฒะธะต |
|---------|----------|
| `SPACE` | ะะฐัะทะฐ/ะัะพะดะพะปะถะธัั |
| `T` | ะะพะบะฐะทะฐัั/ัะบัััั ะดะตัะตะฒะพ (ัะพะปัะบะพ Barnes-Hut) |
| `ESC` | ะััะพะด |

## ๐ ะะตะทัะปััะฐัั ะฑะตะฝัะผะฐัะบะพะฒ

ะะตะทัะปััะฐัั ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะพััะฐะฝััััั ะฒ ัะฐะนะปั:
- `benchmark_barnes_hut.txt` - ัะตะทัะปััะฐัั Barnes-Hut
- `benchmark_brute_force.txt` - ัะตะทัะปััะฐัั Brute Force  
- `benchmark_comparison.txt` - ััะฐะฒะฝะตะฝะธะต ะฐะปะณะพัะธัะผะพะฒ

### ะัะธะผะตั ะฒัะฒะพะดะฐ:

```
========================================
  Benchmark Results: Barnes-Hut
========================================
Algorithm:           Barnes-Hut
Complexity:          O(N log N)
Particles:           5001
Threads:             8
Steps:               1000
Total duration:      15234 ms
Avg time per step:   15.234 ms
Equivalent FPS:      65.641
========================================

โ Barnes-Hut is 12.5x FASTER than Brute Force (Nยฒ)
```

## ๐๏ธ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
โโโ include/              # ะะฐะณะพะปะพะฒะพัะฝัะต ัะฐะนะปั
โ   โโโ Star.h           # ะกัััะบัััะฐ ะทะฒะตะทะดั
โ   โโโ Constants.h      # ะัะต ะบะพะฝััะฐะฝัั
โ   โโโ Utils.h          # ะฃัะธะปะธัั
โ   โโโ Cell.h           # Quadtree ััะตะนะบะฐ
โ   โโโ ISimulator.h     # ะะฝัะตััะตะนั ัะธะผัะปััะพัะฐ
โ   โโโ BarnesHutSimulator.h
โ   โโโ BruteForceSimulator.h
โ   โโโ Benchmark.h      # ะกะธััะตะผะฐ ะฑะตะฝัะผะฐัะบะธะฝะณะฐ
โ
โโโ src/                 # ะััะพะดะฝะธะบะธ
โ   โโโ main.cpp
โ   โโโ Utils.cpp
โ   โโโ Cell.cpp
โ   โโโ BarnesHutSimulator.cpp
โ   โโโ BruteForceSimulator.cpp
โ   โโโ Benchmark.cpp
โ
โโโ Makefile             # Makefile ะดะปั ัะฑะพัะบะธ
โโโ CMakeLists.txt       # CMake ะบะพะฝัะธะณััะฐัะธั
โโโ run_benchmark.sh     # ะกะบัะธะฟั ะฑััััะพะณะพ ัะตััะธัะพะฒะฐะฝะธั
```

## ๐ง ะะฐัััะพะนะบะฐ ะฟะฐัะฐะผะตััะพะฒ

ะัะต ะฟะฐัะฐะผะตััั ะฝะฐัะพะดัััั ะฒ `include/Constants.h`:

```cpp
namespace Simulation {
    const int NUM_STARS_EXCEPT_BH = 5000;  // ะะพะปะธัะตััะฒะพ ะทะฒะตะทะด
    const int NUM_STEPS_BENCHMARK = 1000;  // ะจะฐะณะพะฒ ะฒ ะฑะตะฝัะผะฐัะบะต
}

namespace BarnesHut {
    const double THETA = 1.0;  // ะขะพัะฝะพััั (ะผะตะฝััะต = ัะพัะฝะตะต)
}
```

ะะพัะปะต ะธะทะผะตะฝะตะฝะธะน ะฟะตัะตัะพะฑะตัะธัะต:
```bash
make clean && make
```

## ๐ ะะพะบัะผะตะฝัะฐัะธั

- **README_MODULAR.md** - ะะพะดัะพะฑะฝะพะต ะพะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ
- **ARCHITECTURE.md** - ะััะธัะตะบัััะฐ ะธ ะดะธะฐะณัะฐะผะผั
- **USAGE_EXAMPLES.md** - ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั
- **SUMMARY.md** - ะัะพะณะพะฒัะน ะพััะตั ะพ ะผะพะดัะปััะธะทะฐัะธะธ

## ๐ฏ ะัะตะธะผััะตััะฒะฐ ะผะพะดัะปัะฝะพะน ััััะบัััั

โ **ะะฐะทะดะตะปะตะฝะธะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ** - ะบะฐะถะดัะน ะบะปะฐัั ะดะตะปะฐะตั ะพะดะฝะพ ะดะตะปะพ  
โ **ะะตะณะบะพะต ะดะพะฑะฐะฒะปะตะฝะธะต ะฐะปะณะพัะธัะผะพะฒ** - ะฟัะพััะพ ะฝะฐัะปะตะดัะนัะต ISimulator  
โ **ะะตัะตะธัะฟะพะปัะทะพะฒะฐะฝะธะต ะบะพะดะฐ** - ะพะฑัะธะต ะบะพะผะฟะพะฝะตะฝัั ะฒ Utils, Constants  
โ **ะัััะพะตะฝะฝะพะต ััะฐะฒะฝะตะฝะธะต** - ัะธััะตะผะฐ ะฑะตะฝัะผะฐัะบะธะฝะณะฐ ะธะท ะบะพัะพะฑะบะธ  
โ **ะงะธัััะน ะบะพะด** - ัะปะตะดะพะฒะฐะฝะธะต SOLID ะฟัะธะฝัะธะฟะฐะผ  

## ๐ฌ ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ

- **ะฏะทัะบ:** C++17
- **ะะธะฑะปะธะพัะตะบะธ:** SFML 2.5+
- **ะะฝัะตะณัะฐัะพั:** Leapfrog (ัะธะผะฟะปะตะบัะธัะตัะบะธะน)
- **ะะฝะพะณะพะฟะพัะพัะฝะพััั:** ะะฐัะฐะปะปะตะปัะฝัะน ัะฐััะตั ััะบะพัะตะฝะธะน
- **ะะฟัะธะผะธะทะฐัะธั:** -O3, -march=native, fast inverse sqrt

## ๐ฆ ะะฐะฒะธัะธะผะพััะธ

```bash
# Ubuntu/Debian
sudo apt-get install libsfml-dev g++ make

# Arch Linux
sudo pacman -S sfml gcc make

# Fedora
sudo dnf install SFML-devel gcc-c++ make
```

## ๐ ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะะธะทัะฐะปะธะทะฐัะธั Barnes-Hut ั ะดะตัะตะฒะพะผ
```bash
./bin/nbody_simulation
# ะัะฑะตัะธัะต: 1
# ะะฐะถะผะธัะต: T (ะฟะพะบะฐะทะฐัั ะดะตัะตะฒะพ)
```

### ะััััะพะต ััะฐะฒะฝะตะฝะธะต
```bash
./run_benchmark.sh
cat benchmark_comparison.txt
```

### ะขะตััะธัะพะฒะฐะฝะธะต ะผะฐัััะฐะฑะธััะตะผะพััะธ
```bash
# ะะทะผะตะฝะธัะต NUM_STARS_EXCEPT_BH ะฒ Constants.h
# ะะปั ะบะฐะถะดะพะณะพ ะทะฝะฐัะตะฝะธั (1000, 5000, 10000):
make clean && make
./run_benchmark.sh
```

## ๐ ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะณะพ ะฐะปะณะพัะธัะผะฐ

1. ะกะพะทะดะฐะนัะต ะบะปะฐัั, ะฝะฐัะปะตะดัััะธะน `ISimulator`
2. ะะตะฐะปะธะทัะนัะต ะผะตัะพะดั: `timeStep()`, `getName()`, `getComplexity()`
3. ะะพะฑะฐะฒััะต ะฒ ะผะตะฝั ะฒ `main.cpp`
4. ะะฑะฝะพะฒะธัะต Makefile

ะะพัะพะฒะพ! ะะพะฒัะน ะฐะปะณะพัะธัะผ ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะฐะฑะพัะฐะตั ั ะฑะตะฝัะผะฐัะบะฐะผะธ.

## ๐ ะกัะฐััะต ัะฐะนะปั

ะัะธะณะธะฝะฐะปัะฝัะต ะผะพะฝะพะปะธัะฝัะต ัะฐะนะปั ัะพััะฐะฝะตะฝั ะดะปั ัะฟัะฐะฒะบะธ:
- `tres2.cpp` - Barnes-Hut (604 ัััะพะบะธ)
- `tres3.cpp` - Brute Force (387 ัััะพะบ)

## ๐ค ะะบะปะฐะด

ะัะพะตะบั ะฟะพะปะฝะพัััั ะผะพะดัะปัะฝัะน ะธ ะณะพัะพะฒ ะบ ัะฐััะธัะตะฝะธั. ะั ะผะพะถะตัะต:
- ะะพะฑะฐะฒะธัั ะฝะพะฒัะต ะฐะปะณะพัะธัะผั (FMM, Tree Code, etc.)
- ะฃะปัััะธัั ะฒะธะทัะฐะปะธะทะฐัะธั
- ะะพะฑะฐะฒะธัั ะฝะพะฒัะต ัะธะทะธัะตัะบะธะต ัััะตะบัั
- ะะฟัะธะผะธะทะธัะพะฒะฐัั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

## ๐ ะะธัะตะฝะทะธั

ะัะพะตะบั ัะพะทะดะฐะฝ ะฒ ะพะฑัะฐะทะพะฒะฐัะตะปัะฝัั ัะตะปัั.

---

**ะกะพะทะดะฐะฝะพ:** 2025  
**ะะตััะธั:** 1.0 (ะะพะดัะปัะฝะฐั)  
**ะกัะฐััั:** โ ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั
